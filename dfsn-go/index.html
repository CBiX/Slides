<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=1024, user-scalable=no">

    <meta name="author" content="Florian Hülsmann <fh@cbix.de>">
    <meta name="description" content="Lightweigt, scalable and modern decentralized social network ideas">

	<title>Social networking server in go</title>
	
	<!-- Required stylesheet -->
	<link rel="stylesheet" href="core/deck.core.css">
	
	<!-- Extension CSS files go here. Remove or add as needed. -->
	<link rel="stylesheet" href="extensions/goto/deck.goto.css">
	<link rel="stylesheet" href="extensions/menu/deck.menu.css">
	<link rel="stylesheet" href="extensions/navigation/deck.navigation.css">
	<link rel="stylesheet" href="extensions/status/deck.status.css">
	<link rel="stylesheet" href="extensions/hash/deck.hash.css">
	<link rel="stylesheet" href="extensions/scale/deck.scale.css">

	<!-- Style theme. More available in /themes/style/ or create your own. -->
	<link rel="stylesheet" href="themes/style/web-2.0.css">
	
	<!-- Transition theme. More available in /themes/transition/ or create your own. -->
	<link rel="stylesheet" href="themes/transition/horizontal-slide.css">
	
	<!-- Required Modernizr file -->
	<script src="modernizr.custom.js"></script>
</head>
<body class="deck-container">

<!-- Begin slides. Just make elements with a class of slide. -->

<section class="slide">
    <h2>It's 2013</h2>
    <h3>Let's make a new social network!</h3>
    <h4>Ideas for a lightweight, scalable and modern decentralized social networking server</h4>
    <h5 style="position:absolute; bottom:1em;">Florian Hülsmann / <a href="http://cbix.de">cbix.de</a></h5>
</section>

<section class="slide">
    <h2>No, wait..! A whole new social network!?</h2>
    <p>Use existing ones, speak their language (protocol) and keep all your virtual friends!</p>
    <p>The problem with current implementations:</p>
    <ul>
        <li>slow</li>
        <li>not using full potential of current web standards</li>
        <li>most of them are just Twitter clones</li>
        <li>too static (chronological stream, full of uninteresting things)</li>
        <li>poor cross-host full text search support</li>
    </ul>
</section>

<section class="slide">
<h2>Choose a protocol:</h2>
<ul style="float:left;">
    <li>OStatus</li>
    <li>FOAF</li>
    <li>tent</li>
    <li>friendica</li>
    <li>OpenSocial</li>
</ul>
<ul style="float:left; margin-left:4em;">
    <li>Kune / Wave</li>
    <li>DSNP</li>
    <li>OSMP</li>
    <li>Socknet</li>
    <li>Ampify</li>
</ul>
<ul style="float:left; margin-left:4em;">
    <li>libertree</li>
    <li>Kopal</li>
    <li>Zot</li>
    <li>SMTP</li>
    <li>XMPP</li>
</ul>
</section>

<section class="slide" style="background-image:url(img/standards.png); background-position:center; background-repeat:no-repeat; background-size:contain;">
<!--<img src="img/standards.png">-->
<strong style="position:absolute; left:1em; bottom:1em; font-size:50%;">CC by-nc <a href="http://xkcd.com">xkcd.com</a></strong>
</section>

<section class="slide">
<h2>Client side (web browser)</h2>
<ul>
    <li>Cache posts/contacts/comments/... using localstorage</li>
    <li>Live updates through websockets</li>
    <li>Offline mode</li>
    <li>Client side plugins (custom post types, games)</li>
    <li>Mobile friendly (responsive)</li>
</ul>
</section>

<section class="slide">
<h2>Server side</h2>
<ul>
    <li>Lightweight</li>
    <li>Scalable (e.g. allow running multiple instances for faster search requests)</li>
    <li>Portable, few dependencies</li>
    <li>Websocket support</li>
</ul>
</section>

<section class="slide">
<h2>Go</h2>
<p>A compiled programming language for scalable, fast server applications.</p>
<p>Supports concurrency:</p>
<pre><code>func (p *Post) Distribute() {
    for _, h := range p.ReceiveHosts {
        go h.QueuePostNotification(p)
    }
}</pre></code>
</section>

<section class="slide">
<h3>goroutines</h3>
<p>communicate through <strong>channels</strong>.</p>
<pre><code>func PostsListener(c chan *Post) {
    for p := range &lt;-c {
        go db.StorePost(p)
        go hub.PostNotify(p)
    }
}

func main() {
    postChan := make(chan *Post)
    protoHandler := proto.NewHandler()
    protoHandler.SetPostChan(postChan)
    go PostsListener(postChan)
    // ...
}</code></pre>
</section>

<section class="slide">
<h3>Websockets</h3>
<pre><code>func (hub *WebsocketHub) PostNotify(p *Post) {
    for _, client := range hub.ConnectedClients {
        client.MsgQueue &lt;- p
    }
}</code></pre>
<h3>Performance optimized full text / #hashtag search</h3>
<ul>
    <li>Client starts separate websocket connection for getting realtime search results</li>
    <li>sub/unsub for hashtags</li>
    <li>Optional open or authorized search API for other servers to use</li>
    <li>Order by relevance, search by subscribed hashtags first etc.</li>
    <li>Recursively run goroutines for searching messages/posts/profiles and spawning search on other servers</li>
</ul>
</section>

<section class="slide">
<h3>Go packages to be used</h3>
<p><strong>crypto</strong> for encrypted server to server communication</p>
<p><strong>net/http</strong> as protocol base</p>
<p><strong>encoding/json</strong> for client API</p>
<p><strong>html/template</strong> for frontend templates</p>
<p><strong>image</strong> for creating thumbnails etc.</p>
</section>

<section class="slide">
<h2>Further ideas</h2>
<ul>
    <li><strong>ownCloud lite</strong> with integrated collaboration and social networking functionality</li>
    <li>separate backend and frontend servers (the <strong>tent</strong> approach)</li>
    <li>even more advanced search engines and compromises between search result quality and efficiency (memory/cpu time)</li>
    <li>...your ideas?</li>
</ul>
</section>

<!-- End slides. -->


<!-- Begin extension snippets. Add or remove as needed. -->

<!-- deck.status snippet -->
<p class="deck-status">
	<span class="deck-status-current"></span>
	/
	<span class="deck-status-total"></span>
</p>

<!-- deck.goto snippet -->
<form action="." method="get" class="goto-form">
	<label for="goto-slide">Go to slide:</label>
	<input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
	<datalist id="goto-datalist"></datalist>
	<input type="submit" value="Go">
</form>

<!-- deck.hash snippet -->
<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<!-- End extension snippets. -->

<!-- Required JS files. -->
<script src="jquery-1.7.2.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="core/deck.core.js"></script>
<script src="extensions/hash/deck.hash.js"></script>
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
	$(function() {
		$.deck('.slide');
	});
</script>
</body>
</html>
